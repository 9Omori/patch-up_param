name: Get 'up_param' for 'beyond1lte'

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Install dependencies
      run: |
        sudo apt update
        sudo apt install coreutils binutils lz4

    - name: Clone source
      run: |
        git clone https://github.com/9Omori/patch-up_param.git ~/patch-up_param

    - name: Extract BL.tar
      run: |
        cd ~/patch-up_param/BL/beyond1lte
        tar xf BL.tar up_param.bin.lz4 | unlz4 '-' > up_param.tar
        mv up_param.tar ~/up_param-beyond1lte.tar

    - name: Upload up_param
      uses: actions/upload-artifact@v3
      with:
        path: ~/up_param-beyond1lte.tar
